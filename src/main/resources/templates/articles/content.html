<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Profile</title>
    <th:block th:include="~{_shared/head}"/>
</head>
<body>

<div class="super_container">
    <th:block th:include="~{_shared/header}"/>
    <th:block th:include="~{_shared/menu}"/>


    <div class="last">
        <div class="last_background parallax-window" data-parallax="scroll"
             data-image-src="/images/client_profile_background.webp"
             data-speed="0.8"></div>
        <!-- PAGE STUFF -->

        <div class="rela-block container">
            <div class="rela-block profile-card">
                <img class="profile-pic" id="profile_pic" th:src="${article.picture}">
                <div class="rela-block profile-name-container">
                    <div class="rela-block user-name" id="user_name"><strong>[[${article.title}]]</strong></div>
                </div>
                <div th:if="${session.role == 'admin'}">
                    <a class="btn btn-info text-white mb-3" id="offer_edit_btn" th:href="@{/articles/edit/{title}(title=${article.title})}">Edit</a>
                    <a class="btn btn-info text-white mb-3" id="offer_delete_btn" onclick="document.getElementById('delete_article').style.display='block'">Delete</a>
                    <div id="delete_article" class="modal">
            <span onclick="document.getElementById('delete_article').style.display='none'" class="close"
                  title="Close Modal">Ã—</span>
                        <form class="modal-content animated" th:action="@{/articles/delete/{title} (title= ${article.title})}" th:method="post">
                            <div>Are you sure you want to delete [[${article.title}]]?</div>
                            <div class="button-holder d-flex justify-content-center">
                                <button class="btn signup_btn" type="submit">Yes</button>
                                <button type="button" onclick="document.getElementById('delete_article').style.display='none'"
                                        class="cancel_btn btn">No
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="article_content">
            [[${article.content}]]
        </div>
    </div>
    <th:block th:include="~{_shared/footer}"/>
</div>
<th:block th:include="~{_shared/scripts}"/>
</body>
</html>